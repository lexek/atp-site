<!doctype html>
<html ng-app="editor-app">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">

    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//ttv-api.s3.amazonaws.com/twitch.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>

    <script src="/static/editor/editor.js"></script>
</head>

<body>
<span style="display: none">{%verbatim%}</span>

<div ng-controller="EditorController" layout="column" ng-cloak>
    <md-content layout-padding layout="column">
        <md-input-container>
            <label>Название стрима</label>
            <input ng-model="input.title" required>
        </md-input-container>

        <md-autocomplete
            flex
            md-input-minlength="2"
            md-input-maxlength="64"
            md-no-cache="true"
            md-selected-item="input.game"
            md-search-text="input.gameSearch"
            md-items="item in querySearch(input.gameSearch)"
            md-item-text="item"
            md-floating-label="Игра"
            md-match-case-insensitive="true"
        >
          <md-item-template>
            <span md-highlight-text="input.gameSearch">{{item}}</span>
          </md-item-template>
        </md-autocomplete>

        <md-button class="md-raised md-primary" ng-click="save()">Изменить</md-button>
    </md-content>
</div>

<script>
    angular
        .module('editor-app', ['ngMaterial', 'editor'])
        .config(function ($mdThemingProvider, $mdIconProvider, $sceDelegateProvider) {
            $sceDelegateProvider.resourceUrlWhitelist([
                'self'
            ]);
        });
</script>

<span style="display: none">{%endverbatim%}</span>
</body>
</html>